function cookie(e,t,n){if(typeof t=="undefined"){var a=null;if(document.cookie&&document.cookie!=""){var f=document.cookie.split(";");for(var l=0;l<f.length;l++){var c=jQuery.trim(f[l]);if(c.substring(0,e.length+1)==e+"="){a=decodeURIComponent(c.substring(e.length+1));break}}}return a}n=n||{},t===null&&(t="",n=$.extend({},n),n.expires=-1);var r="";if(n.expires&&(typeof n.expires=="number"||n.expires.toUTCString)){var i;typeof n.expires=="number"?(i=new Date,i.setTime(i.getTime()+n.expires*1e3)):i=n.expires,r="; expires="+i.toUTCString()}var s=n.path?"; path="+n.path:"",o=n.domain?"; domain="+n.domain:"",u=n.secure?"; secure":"";document.cookie=[e,"=",encodeURIComponent(t),r,s,o,u].join("")}function recordChannelFrom(){var e=location.href,t=/\#\_from\=([\w\_\-]+)/.exec(e),n=t?t[1]:null;n||(t=location.search.match(/[\?\&]from\=([^\&]*)(\&?)/i),n=t?t[1]:null),n&&(cookie("from",n,{expires:43200,domain:".ximalaya.com",path:"/"}),location.hash=location.hash.replace(/\_from=.+$/,""))}recordChannelFrom();